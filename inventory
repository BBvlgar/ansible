[all:children]

####
## This first "real" group defines all servers and all needed server properties.
##  * the first row element has to be the host alias used in playbooks, other groups, etc.
##  * `ansible_port` defines the SSH port to be used
##  * `ansible_host` defines an IP address or – better – the FQDN of the server
##  * `ansible_user` is the default SSH user – if not defined, you hopefully use your SSH-Config well
##  * If `ansible_host` is an IP or something else not to be used as hostname basis,
##    please define the parameter `alias_fqdn`, which will then be used as hostname basis instead
##  * If there are jumphosts to be used to connect a server, please use your SSH-Config to define them:
##      Host alias
##          HostName fqdn.of.the.host
##          Port 22
##          ForwardAgent yes
##          User user
##          ProxyCommand ssh -W %h:%p jumphostalias
####

###
## To understand the magic, please read the docu:
## https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html
## https://en.wikibooks.org/wiki/OpenSSH/Cookbook/Proxies_and_Jump_Hosts
###
[server_definitions]

###
## Munich Servers
###
s3                         ansible_port=60022            ansible_host=s3.muc.it-economics.de
dockerhost.muc                         ansible_port=60022            ansible_host=dockerhost.muc.it-economics.de
bareos-int                 ansible_port=60022            ansible_host=bareos-int.muc.it-economics.de
jumphost                   ansible_port=60022            ansible_host=hq1-muc.it-economics.de
pki.muc                    ansible_port=22               ansible_host=pki.muc.it-economics.de
## Do not Touch Systems Muc
# nas4
# s2
# s4
# proxmox                   ansible_port=22               ansible_host=192.168.3.226                          alias_fqdn=proxmox.muc.it-economics.de
apps2-mirror.muc           ansible_port=60022            ansible_host=apps2-mirror.muc.it-economics.de

###
## Hetzner Root Servers
###
hs1                         ansible_port=60022           ansible_host=hs1.it-economics.de
bareos-ext                  ansible_port=60022           ansible_host=bareos-ext.it-economics.de

###
## Hetzner Cloud Server
###
hs2                         ansible_port=60022           ansible_host=hs2.it-economics.de
bamboo-server               ansible_port=60022           ansible_host=bamboo.it-economics.de
bamboo-builder              ansible_port=60022           ansible_host=bamboo-builder.it-economics.de
# training                   ansible_port=60022            ansible_host=
bareos                      ansible_port=60022           ansible_host=bareos.it-economics.de
meet.it-economics.de        ansible_port=60022           ansible_host=meet.it-economics.de
office.it-economics.de      ansible_port=60022           ansible_host=office.it-economics.de



###
## AWS Servers (intern)
###
bastion                     ansible_port=22              ansible_host=bastion.aws.it-economics.de	     	    ansible_user=ubuntu
website                     ansible_port=60022           ansible_host=ip-10-0-1-69.eu-central-1.compute.internal    									ansible_ssh_common_args='-A -J ubuntu@bastion.aws.it-economics.de:22'
freepbx                     ansible_port=60022        	 ansible_host=pbx.it-economics.de 		            									ansible_ssh_common_args='-A -J hq1-muc.it-economics.de:60022'
monitoring                  ansible_port=60022           ansible_host=ip-10-0-1-25.eu-central-1.compute.internal    									ansible_ssh_common_args='-A -J ubuntu@bastion.aws.it-economics.de:22'
dockerhost                  ansible_port=60022           ansible_host=dockerhost.aws.it-economics.de                                                                                    ansible_ssh_common_args='-A -J ubuntu@bastion.aws.it-economics.de:22'
dockerhost-testing          ansible_port=60022           ansible_host=dockerhost-testing.aws.it-economics.de                                                                            ansible_ssh_common_args='-A -J ubuntu@bastion.aws.it-economics.de:22'

###
## PIs
###
atlassian-pi.muc
okr-pi.muc
teamviewer-pi.muenster
teamviewer-pi.fra
okr-pi.dus
teamviewer-pi.dus
teamviewer-pi.karlsruhe
teamviewer-pi.bonn
teamviewer-pi.sofia
sensor.muc                  ansible_port=22              ansible_host=sensor.muc.it-economics.de


[updatableServers]
monitoring
bareos-ext
bareos-int
bareos
hs1
hs2
jumphost
bamboo-server
bamboo-builder
s3
dockerhost.muc
bastion
jumphost
dockerhost
freepbx
website
dockerhost-testing
# atlassian-pi.muc
# hass-pi.muc
# okr-pi.muc
# teamviewer-pi.muenster
# teamviewer-pi.fra
# okr-pi.dus
# teamviewer-pi.dus
# teamviewer-pi.karlsruhe
# teamviewer-pi.bonn
# teamviewer-pi.sofia


[production:children]
ssh_hosts
pis

[ssh_hosts]

[pis]

[aws_non_ami]

[docker_hosts]
dockerhost
jumphost
dockerhost.muc
dockerhost-testing
hs2
website

[personio_backup]

[native_ldap_client]


####
## Dockered Applications
####
[dms]
s3

[directory]
dockerhost

[directory_guest]
dockerhost

[directory_test]
dockerhost

[achievo]
hs2

[vcard]
dockerhost

[appstore]
dockerhost

[jira]

[confluence]

[bitbucket]

[bamboo]
bamboo-server

[survey]
dockerhost

[survey]
dockerhost

[vcard]
dockerhost

[secrets]
dockerhost

[teamsurvey_dashboard]
dockerhost

[teamsurvey_api]
dockerhost

[kdc01]
dockerhost

[phonestat]
dockerhost

[events_app_backend]
dockerhost

[ldap01]
dockerhost

[ldapCerts]
dockerhost

[ldapGuest]
dockerhost

[roominfo_service]
dockerhost

[memorysourceexport]
dockerhost

[atlassian_quote]
dockerhost

[crowd]
dockerhost

[nextcloud]
dockerhost

[skillmatrix]
dockerhost

[portainer]
dockerhost
www
hs1

[social_partner]
s3

[radius]
s3

[certs_download]
dockerhost

[raspi]
atlassian-pi.muc
okr-pi.muc
teamviewer-pi.muenster
teamviewer-pi.fra
okr-pi.dus
teamviewer-pi.dus
teamviewer-pi.karlsruhe
teamviewer-pi.bonn
teamviewer-pi.sofia
sensor.muc

####
## Infrastructural Stuff
####

[vpn]
jumphost

[mysql_slave]


####
## Admin Permission Definitions
####
